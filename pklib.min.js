/** pklib JavaScript library | http://pklib.com/licencja.html **/
(function(a){var b={author:"Piotr Kowalski",www:"http://pklib.com/",version:"1.0.5"};a.pklib=b}(this));if(typeof Function.prototype.bind!=="function"){Function.prototype.bind=function(b){var d=this,c=Array.prototype.slice,a=c.apply(arguments,[1]);return function(){return d.apply(b,a.concat(c.apply(arguments,[0])))}}}(function(d){var a=d.pklib||{},e=0,g=1,h=2,i=3,n=4,b=[],l=function(p,r){var s,o=["application/xml","text/xml"],q="responseText";if(r.readyState===n&&r.status!==e){if(p.cache){b[p.url]=r}s=r.getResponseHeader("Content-Type");if(a.array.inArray(s,o)){q="responseXML"}p.done.call(null,r[q]);r=null}},m=function(o,p){p=null;throw new Error("pklib.ajax.load: timeout on url: "+o.url)},c=function(o,p){if(typeof p.aborted==="undefined"&&typeof p.error==="undefined"&&p.readyState===n&&p.status===e){p.abort();m.call(null,o,p)}},f=function(){var p;try{p=new ActiveXObject("Msxml2.XMLHTTP")}catch(q){try{p=new ActiveXObject("Microsoft.XMLHTTP")}catch(o){throw new Error("pklib.ajax.load: cannot create XMLHTTPRequest object")}}return p},k=function(){var o;try{o=new XMLHttpRequest()}catch(p){o=f()}return o},j={load:function(o){var r,q=null,p={type:"get",async:true,cache:false,url:null,params:null,timeout:30000,headers:{},done:function(s){},error:function(){}};p=a.object.mixin(p,o);p.type=p.type.toUpperCase();if(p.url===null){throw new Error("pklib.ajax.load: undefined request url")}if(p.cache&&b[p.url]){l.call(null,p,b[p.url])}else{q=k();q.onreadystatechange=l.bind(null,p,q);q.open(p.type,p.url,p.async);if(p.headers!==null){for(r in p.headers){if(p.headers.hasOwnProperty(r)){q.setRequestHeader(r,p.headers[r])}}}q.send(p.params);if(typeof q.ontimeout==="function"){q.ontimeout=m.bind(null,p,q)}else{setTimeout(c.bind(null,p,q),p.timeout)}q.onerror=function(){q.error=true;p.error.bind(null,p,q)}}return q},stop:function(o){o.abort();o.aborted=true;o=null}};a.ajax=j}(this));(function(a){var b=a.pklib||{},c={isArray:function(d){return b.common.assert(typeof d==="object"&&d!==null&&typeof d.length!=="undefined"&&typeof d.slice!=="undefined",true)},inArray:function(f,g){var e,d=g.length;for(e=0;e<d;++e){if(g[e]===f){return true}}return false},index:function(f,g){var e,d=g.length;for(e=0;e<d;++e){if(g[e]===f){return e}}return null},unique:function(h){var f,g,e=[],d=h.length;for(f=0;f<d;++f){g=h[f];if(!b.array.inArray.call(null,g,e)){e.push(g)}}return e},remove:function(h){var e,g,f=Array.prototype.slice.call(arguments,1),d=f.length;for(e=0;e<d;++e){g=f[e];if(b.array.inArray(g,h)){h.splice(b.array.index(g,h),1)}}return h}};b.array=c}(this));(function(b){var c=b.pklib||{},a=function(d,e){var f=this;if(typeof d!=="function"){throw new TypeError("pklib.aspect: @func: not {Function}")}if(typeof e!=="function"){throw new TypeError("pklib.aspect: @asp: not {Function}")}return function(){e.call(f);return d.apply(f,arguments)}};c.aspect=a}(this));(function(c){var d=c.pklib||{},a=["msie","chrome","safari","opera","mozilla","konqueror"],b={getName:function(){var g,f,e=a.length,h=navigator.userAgent.toLowerCase();for(g=0;g<e;++g){f=a[g];if(new RegExp(f).test(h)){return f}}return"undefined"},getVersion:function(){var g,e=a.length,f,j,h=navigator.userAgent.toLowerCase();for(g=0;g<e;++g){f=a[g];j=h.indexOf(f);if(j!==-1){return h.substr(j+e+1,3)}}return null}};d.browser=b}(this));(function(b){var c=b.pklib||{},a={assert:function(e,d){return e===d},defer:function(d){setTimeout(d,0)}};c.common=a}(this));(function(c){var d=c.pklib||{},a=c.document||{},b={create:function(g,h,i){h=h||null;var e="",f=new Date();if(typeof i!=="undefined"){f.setTime(f.getTime()+(i*24*60*60*1000));e="; expires="+f.toGMTString()}a.cookie=g+"="+h+e+"; path=/";return d.cookie.get(g)},get:function(g){if(typeof g==="undefined"){return null}g+="=";var h,j,f=a.cookie.split(";"),e=f.length;for(h=0;h<e;++h){j=f[h];while(j.charAt(0)===" "){j=j.substring(1,j.length)}if(j.indexOf(g)===0){return j.substring(g.length,j.length)}}return null},remove:function(e){return d.cookie.create(e,undefined,-1)}};d.cookie=b}(this));(function(d){var e=d.pklib||{},c=/[\n\t\r]/g,a=function(f,g,h){var i="pklib.css."+h;if(typeof f!=="string"){throw new TypeError(i+": @cssClass: not {String}")}if(!e.dom.isNode(g)){throw new TypeError(i+": @element: not {HTMLElement}")}},b={addClass:function(g,h){a(g,h,"addClass");var f=h.className;if(!e.css.hasClass(g,h)){if(f.length){f+=" "+g}else{f=g}}h.className=f},removeClass:function(f,g){a(f,g,"removeClass");var h=new RegExp("(\\s"+f+")|("+f+"\\s)|"+f,"i");g.className=e.string.trim(g.className.replace(h,""))},hasClass:function(f,g){a(f,g,"hasClass");var h=" "+f+" ";return((" "+g.className+" ").replace(c," ").indexOf(h)>-1)}};e.css=b}(this));(function(b){var c=b.pklib||{},a={getFullMonth:function(){var d=(parseInt(new Date().getMonth(),10)+1);return(d<10)?"0"+d:d}};c.date=a}(this));(function(b){var d=b.pklib||{},a=b.document||{},c=function(g,f){if(!!g){f(g);g=g.firstChild;while(g){c(g,f);g=g.nextSibling}}},e={nodeTypes:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},isNode:function(f){return d.common.assert(Boolean(f&&f.nodeType&&f.nodeName),true)},isElement:function(f){return(f&&f.nodeType===d.dom.nodeTypes.ELEMENT_NODE)||false},byId:function(f){return a.getElementById(f)},byTag:function(f,g){g=g||a;return g.getElementsByTagName(f)},byClass:function(f,h){h=h||a;var g;if(h.getElementsByClassName){g=h.getElementsByClassName(f)}else{g=[];c(h,function(i){if(d.css.hasClass(f,i)){g.push(i)}})}return g},get:function(f){if(a.querySelectorAll){return a.querySelectorAll(f)}return[]},index:function(j){var g,h=d.dom.parent(j),k=d.dom.children(h),f=k.length;for(g=0;g<f;++g){if(k[g]===j){return g}}return null},children:function(h){var g,k=[],j=h.childNodes,f=j.length;for(g=0;g<f;++g){if(d.dom.isElement(j[g])){k.push(j[g])}}return k},insert:function(f,g){if(d.dom.isNode(f)){g.appendChild(f)}else{if(d.string.isString(f)){g.innerHTML+=f}}return f},remove:function(){var h,k=null,j=null,g=Array.prototype.slice.call(arguments),f=g.length;for(h=0;h<f;++h){k=g[h];if(d.dom.isNode(k)){j=k.parentNode;j.removeChild(k)}}},prev:function(g){var f;while(true){f=g.previousSibling;if(typeof f!=="undefined"&&f!==null&&f.nodeType!==d.dom.nodeTypes.ELEMENT_NODE){g=f}else{break}}return f},next:function(g){var f;while(true){f=g.nextSibling;if(typeof f!=="undefined"&&f!==null&&f.nodeType!==d.dom.nodeTypes.ELEMENT_NODE){g=f}else{break}}return f},parent:function(g){var f;while(true){f=g.parentNode;if(typeof f!=="undefined"&&f!==null&&f.nodeType!==d.dom.nodeTypes.ELEMENT_NODE){g=f}else{break}}return f}};d.dom=e}(this));(function(b){var c=b.pklib||{},a={add:function(g,d,e){if(typeof g.events==="undefined"){g.events={}}var f=g.events[d];if(typeof f==="undefined"){g.events[d]=[]}g.events[d].push(e);if(g.attachEvent){g.attachEvent("on"+d,e)}else{if(g.addEventListener){g.addEventListener(d,e,false)}}},remove:function(k,e){if(typeof k.events==="undefined"){k.events={}}var j,g,d=0,f,h;if(k.detachEvent){j="detachEvent"}else{if(k.removeEventListener){j="removeEventListener"}}g=k.events[e];if(typeof g!=="undefined"){d=g.length;for(f=0;f<d;++f){h=g[f];k[j](e,h);delete k.events[e]}}},get:function(e,d){if(typeof e.events==="undefined"){e.events={}}return e.events[d]},trigger:function(h,e){if(typeof h.events==="undefined"){h.events={}}var g=h.events[e],d,f;if(typeof g==="undefined"){throw new ReferenceError("pklib.event.trigger: @event "+e+": not {Array}")}else{d=g.length;for(f=0;f<d;++f){g[f].call(h,g[f])}}}};c.event=a}(this));(function(d){var f=d.pklib||{},b=d.document||{},e=[],a=function(h,i){var g=b.createElement("script");g.type="text/javascript";g.src=h;if(typeof g.readyState!=="undefined"){g.onreadystatechange=function(){if(g.readyState==="loaded"||g.readyState==="complete"){g.onreadystatechange=null;if(typeof i==="function"){i(g)}}}}else{g.onload=function(){if(typeof i==="function"){i(g)}}}if(typeof b.head==="undefined"){b.head=b.getElementsByTagName("head")[0]}b.head.appendChild(g)},c={loadjs:function(i,j){var h,g=this;if(typeof i==="string"){h=i;a(h,function(k){if(typeof j==="function"){j(k)}})}else{if(f.array.isArray(i)){if(!e.length){e=f.object.mixin(e,i)}h=i.shift();if(typeof h==="undefined"){if(typeof j==="function"){j({src:e[e.length-1]});e=[]}}else{a(h,function(){g.loadjs(i,j)})}}else{throw new TypeError("pklib.file.loadjs: @files not {String} or {Array}")}}}};f.file=c}(this));(function(b){var c=b.pklib||{},a={isObject:function(d){return d&&typeof d==="object"&&typeof d.hasOwnProperty==="function"&&typeof d.isPrototypeOf==="function"&&typeof d.length==="undefined"},mixin:function(j,h){var f,d=0,e,g;if(c.array.isArray(j)&&c.array.isArray(h)){d=h.length;for(f=0;f<d;++f){e=h[f];if(!c.array.inArray(e,j)){j.push(e)}}j.sort()}else{for(g in h){if(h.hasOwnProperty(g)){if(c.object.isObject(j[g])){j[g]=c.object.mixin(j[g],h[g])}else{j[g]=h[g]}}}}return j}};c.object=a}(this));(function(b){var d=b.pklib||{},c={},a={start:function(e){c[e]=new Date();return c[e]},stop:function(e){c[e]=new Date()-c[e];return new Date((new Date()).getTime()+c[e])},getTime:function(e){return c[e]}};d.profiler=a}(this));(function(b){var c=b.pklib||{},a={isString:function(d){return typeof d==="string"},isLetter:function(d){return c.string.isString(d)&&/^[a-zA-Z]$/.test(d)},trim:function(d){return d.replace(/^\s+|\s+$/g,"")},slug:function(e){var d=e.toLowerCase().replace(/\s/mg,"-");d=d.replace(/[^a-zA-Z0-9\-]/mg,function(f){switch(f.charCodeAt(0)){case 261:return String.fromCharCode(97);case 281:return String.fromCharCode(101);case 243:return String.fromCharCode(111);case 347:return String.fromCharCode(115);case 322:return String.fromCharCode(108);case 378:case 380:return String.fromCharCode(122);case 263:return String.fromCharCode(99);case 324:return String.fromCharCode(110);default:return""}});return d},capitalize:function(d){return d.substr(0,1).toUpperCase()+d.substring(1,d.length).toLowerCase()},delimiterSeparatedWords:function(d){return d.replace(/[A-ZĘÓĄŚŁŻŹĆŃ]/g,function(e){return"-"+e.toLowerCase()})},stripTags:function(d){if(d&&d.length!==0){return d.replace(/\\<\\S\\>/g,"")}return d},camelCase:function(f){while(f.indexOf("-")!==-1){var h=f.indexOf("-"),g=f.substr(0,h),e=f.substr(h+1,1).toUpperCase(),d=f.substring(h+2,f.length);f=g+e+d}return f},slice:function(g,f){var e,h="",d=g.length;for(e=0;e<d;e+=1){h+=g.substr(e,1);if(e===f-1){if(d-f>=1){h+="..."}break}}return h}};c.string=a}(this));(function(b){var d=b.pklib||{},a=b.document||{},c={center:function(f,i){var h=null,g=null,e=this.size;if(!d.dom.isElement(f)){throw new TypeError("pklib.ui.center: @element: not {HTMLElement}")}if(i===a.body){h=(Math.max(e.window("width"),e.document("width"))-e.object(f,"width"))/2;g=(Math.max(e.window("height"),e.document("height"))-e.object(f,"height"))/2}else{h=(e.window("width")-e.object(f,"width"))/2;g=(e.window("height")-e.object(f,"height"))/2}f.style.left=h+"px";f.style.top=g+"px";f.style.position="absolute";return[h,g]},maximize:function(g,i){var h=null,f=null,e=d.ui.size;if(i===a.body){h=Math.max(e.window("width"),e.document("width"));f=Math.max(e.window("height"),e.document("height"));if(d.browser.getName()==="msie"){h-=20}}else{h=e.object(i,"width");f=e.object(i,"height")}g.style.width=h;g.style.height=f;return[h,f]},scrollTo:function(g,f){var e=null;if(d.common.assert(f,true)){e=setInterval(function(){a.body.scrollTop-=5;if(a.body.scrollTop<=0){clearInterval(e)}},1)}else{a.body.scrollTop=g+"px"}}};d.ui=c}(this));(function(c){var d=c.pklib||{},a=c.document||{},f="pklib-glass-wrapper",b={container:null,style:{position:"absolute",left:0,top:0,background:"#000",opacity:0.5,zIndex:1000}},e={objId:f,show:function(g,l){var i=this,j=a.createElement("div"),k=j.style,h;b.container=a.body;b=d.object.mixin(b,g);b.style.filter="alpha(opacity="+parseFloat(b.style.opacity)*100+")";j.setAttribute("id",this.objId);for(h in b.style){if(b.style.hasOwnProperty(h)){k[h]=b.style[h]}}b.container.appendChild(j);d.ui.maximize(j,b.container);d.event.add(c,"resize",function(){i.close();i.show(g,l);d.ui.maximize(j,b.container)});if(typeof l==="function"){l()}return j},close:function(i){var h=d.dom.byId(this.objId),g=false;d.event.remove(c,"resize");if(h!==null){h.parentNode.removeChild(h);this.close(i);g=true}if(typeof i==="function"){i()}return g}};d.ui=c.pklib.ui||{};d.ui.glass=e}(this));(function(d){var e=d.pklib||{},b=d.document||{},f="pklib-loader-wrapper",c={src:"",container:null,style:{width:31,height:31,zIndex:1010},center:true},a={objId:f,show:function(i,k){c.container=b.body;c=e.object.mixin(c,i);var g=b.createElement("img"),h=g.style,j;g.setAttribute("id",this.objId);g.setAttribute("src",c.src);for(j in c.style){if(c.style.hasOwnProperty(j)){h[j]=c.style[j]}}if(c.center){e.ui.center(g,c.container);e.event.add(d,"resize",function(){e.ui.center(g,c.container)})}c.container.appendChild(g);if(typeof k==="function"){k()}g=null},close:function(i){var h=e.dom.byId(this.objId),g=false;if(h!==null){h.parentNode.removeChild(h);this.close(i);g=true}if(typeof i==="function"){i()}return g}};e.ui=d.pklib.ui||{};e.ui.loader=a}(this));(function(d){var e=d.pklib||{},a=d.document||{},f="pklib-message-wrapper",b={container:null,style:{width:300,height:300,zIndex:1010}},c={objId:f,content:null,show:function(g,k){b.container=a.body;b=e.object.mixin(b,g);var i=a.createElement("div"),j=i.style,h;i.setAttribute("id",this.objId);for(h in b.style){if(b.style.hasOwnProperty(h)){j[h]=b.style[h]}}e.dom.insert(this.content,i);b.container.appendChild(i);e.ui.center(i,b.container);e.event.add(d,"resize",function(){e.ui.center(i,b.container)});if(typeof k==="function"){k()}return i},close:function(i){var h=e.dom.byId(this.objId),g=false;if(h!==null){h.parentNode.removeChild(h);this.close(i);g=true}if(typeof i==="function"){i()}return g}};e.ui=d.pklib.ui||{};e.ui.message=c}(this));(function(c){var d=c.pklib||{},a=c.document||{},b={window:function(e){var f;if(typeof e!=="string"){throw new TypeError("pklib.ui.size.window: @name: not {String}")}e=d.string.capitalize(e);f=a.documentElement["client"+e];return(a.compatMode==="CSS1Compat"&&f)||a.body["client"+e]||f},document:function(g){var i,j,h,f,e;if(typeof g!=="string"){throw new TypeError("pklib.ui.size.document: @name: not {String}")}g=d.string.capitalize(g);i=a.documentElement["client"+g];j=a.body["scroll"+g];h=a.documentElement["scroll"+g];f=a.body["offset"+g];e=a.documentElement["offset"+g];return Math.max(i,j,h,f,e)},object:function(h,g){if(typeof g!=="string"){throw new TypeError("pklib.ui.size.object: @name: not {String}")}if(!d.dom.isNode(h)){throw new TypeError("pklib.ui.size.object: @obj: not {HTMLElement}")}g=d.string.capitalize(g);var f=h["client"+g],e=h["scroll"+g],i=h["offset"+g];return Math.max(f,e,i)}};d.ui=c.pklib.ui||{};d.ui.size=b}(this));(function(b){var c=b.pklib||{},d=b.location||{},a={getProtocol:function(){return d.protocol},getHost:function(){return d.host},getPort:function(){return d.port||80},getUri:function(){return d.pathname},getParams:function(){var f,g,e,j=d.search,h={};if(j.substr(0,1)==="?"){j=j.substr(1)}j=j.split("&");e=j.length;for(f=0;f<e;++f){g=j[f].split("=");h[g[0]]=g[1]}return h},getParam:function(g){var j=d.search,f,h,e=0;if(j.substr(0,1)==="?"){j=j.substr(1)}j=j.split("&");e=j.length;for(f=0;f<e;++f){h=j[f].split("=");if(h[0]===g){return h[1]}}return null},getHash:function(){return d.hash}};c.url=a}(this));(function(d){var e=d.pklib||{},a=d.document||{},c=function(f){var g="";if(f.originalTarget&&typeof f.originalTarget==="object"&&typeof f.originalTarget.href!=="undefined"){g=f.originalTarget.href}else{if(f.toElement&&typeof f.toElement==="object"&&typeof f.toElement.href!=="undefined"){g=f.toElement.href}else{if(f.srcElement&&typeof f.srcElement==="object"&&typeof typeof f.srcElement!=="undefined"){g=f.srcElement.href}}}open(g);try{f.preventDefault()}catch(h){return false}},b={ascii:{letters:{lower:[113,119,101,114,116,121,117,105,111,112,97,115,100,102,103,104,106,107,108,122,120,99,118,98,110,109],upper:[81,87,69,82,84,89,85,73,79,80,65,83,68,70,71,72,74,75,76,90,88,67,86,66,78,77]}},action:{clearfocus:function(f){if(e.dom.isElement(f)){e.event.add(f,"focus",function(){if(f.value===f.defaultValue){f.value=""}});e.event.add(f,"blur",function(){if(f.value===""){f.value=f.defaultValue}})}},outerlink:function(k){k=k||a;var h,j,g=e.dom.byTag("a",k),f=g.length;for(h=0;h<f;++h){j=g[h];if(j.rel==="outerlink"){e.event.add(j,"click",c.bind(j))}}},confirm:function(g,h){var f;if(typeof g!=="undefined"){h=h||"Sure?";e.event.add(g,"click",function(i){f=d.confirm(h);if(!e.common.assert(f,true)){i.preventDefault();return false}return true})}}}};e.utils=b}(this));