/** pklib JavaScript library | http://pklib.com/licencja.html **/
(function(a){var b={author:"Piotr Kowalski",www:"http://pklib.com/",version:"1.1.0"};a.pklib=b}(this));if(typeof Function.prototype.bind!=="function"){Function.prototype.bind=function(b){var d=this,c=Array.prototype.slice,a=c.apply(arguments,[1]);return function(){return d.apply(b,a.concat(c.apply(arguments,[0])))}}}(function(n){var h=n.pklib||{},e=30000,q=0,c=4,k=[],b=function(t,v){var w,s=["application/xml","text/xml"],u="responseText";if(v.readyState===c&&v.status!==q){if(t.cache){k[t.url]=v}w=v.getResponseHeader("Content-Type");if(h.array.in_array(w,s)){u="responseXML"}t.done.call(null,v[u]);v=null}},d=function(s,t){t=null;throw new Error("pklib.ajax.load: timeout on url: "+s.url)},p=function(s,t){if(typeof t.aborted==="undefined"&&typeof t.error==="undefined"&&t.readyState===c&&t.status===q){t.abort();d.call(null,s,t)}},g=function(){var t;try{t=new n.ActiveXObject("Msxml2.XMLHTTP")}catch(u){try{t=new n.ActiveXObject("Microsoft.XMLHTTP")}catch(s){throw new Error("pklib.ajax.load: cannot create XMLHttpRequest object")}}return t},l=function(){var s;try{s=new n.XMLHttpRequest()}catch(t){s=g()}return s},a=function(s,u){var v,t=s.headers;if(t!==null){for(v in t){if(t.hasOwnProperty(v)){u.setRequestHeader(v,t[v])}}}},m=function(s,t){if(typeof t.ontimeout==="function"){t.ontimeout=d.bind(null,s,t)}else{h.common.defer(p.bind(null,s,t),s.timeout)}},r=function(s,t){t.onerror=function(){t.error=true;s.error.bind(null,s,t)}},f=function(s){return s.cache&&k[s.url]},j=function(){return{type:"get",async:true,cache:false,url:null,params:null,timeout:e,headers:{},done:function(){},error:function(){}}},o=function(s){h.common.assert(s.url!==null,"pklib.ajax.load: undefined request url")},i={load:function(s){var u=null,t=j();t=h.object.mixin(t,s);t.type=t.type.toUpperCase();o(t);if(f(t)){b.call(null,t,k[t.url])}else{u=l();u.onreadystatechange=b.bind(null,t,u);u.open(t.type,t.url,t.async);a(t,u);m(t,u);r(t,u);u.send(t.params)}return u},stop:function(s){s.abort();s.aborted=true;s=null}};h.ajax=i}(this));(function(a){var b=a.pklib||{},c={is_array:function(e){try{b.common.assert(typeof e==="object"&&e!==null&&typeof e.length!=="undefined"&&typeof e.slice!=="undefined");return true}catch(d){return false}},in_array:function(f,g){var e,d=g.length;for(e=0;e<d;++e){if(g[e]===f){return true}}return false},index:function(f,g){var e,d=g.length;for(e=0;e<d;++e){if(g[e]===f){return e}}return null},unique:function(h){var f,g,e=[],d=h.length;for(f=0;f<d;++f){g=h[f];if(!b.array.in_array.call(null,g,e)){e.push(g)}}return e},remove:function(h){var e,g,f=Array.prototype.slice.call(arguments,1),d=f.length;for(e=0;e<d;++e){g=f[e];if(b.array.in_array(g,h)){h.splice(b.array.index(g,h),1)}}return h}};b.array=c}(this));(function(b){var c=b.pklib||{},a=function(f,g,e){var h=this,d;c.common.assert(typeof f==="function","pklib.aspect: @func: not {Function}");c.common.assert(typeof g==="function","pklib.aspect: @asp: not {Function}");e=e||"before";return function(){if(e==="before"){g.call(h)}d=f.apply(h,arguments);if(e==="after"){d=g.call(h)}return d}};c.aspect=a}(this));(function(c){var d=c.pklib||{},a=["msie","chrome","safari","opera","mozilla","konqueror"],b={get_name:function(){var g,f,e=a.length,h=c.navigator.userAgent.toLowerCase();for(g=0;g<e;++g){f=a[g];if(new RegExp(f).test(h)){return f}}return"undefined"},get_version:function(){var g,e=a.length,f,j,h=c.navigator.userAgent.toLowerCase();for(g=0;g<e;++g){f=a[g];j=h.indexOf(f);if(j!==-1){return h.substr(j+e+1,3)}}return null}};d.browser=b}(this));(function(b){var c=b.pklib||{},a={assert:function(d,e){if(d!==true){throw new Error(e)}},defer:function(e,d){d=d||0;b.setTimeout(e,d)}};c.common=a}(this));(function(c){var d=c.pklib||{},a=c.document||{},b={create:function(g,h,i){var e="",f=new Date();h=h||null;if(typeof i!=="undefined"){f.setTime(f.getTime()+(i*24*60*60*1000));e="; expires="+f.toGMTString()}a.cookie=g+"="+h+e+"; path=/";return d.cookie.get(g)},get:function(g){if(typeof g==="undefined"){return null}g+="=";var h,j,f=a.cookie.split(";"),e=f.length;for(h=0;h<e;++h){j=f[h];while(j.charAt(0)===" "){j=j.substring(1,j.length)}if(j.indexOf(g)===0){return j.substring(g.length,j.length)}}return null},remove:function(e){return d.cookie.create(e,undefined,-1)}};d.cookie=b}(this));(function(d){var e=d.pklib||{},c=/[\n\t\r]/g,b=function(f,g,h){var i="pklib.css."+h;e.common.assert(typeof f==="string",i+": @cssClass: not {String}");e.common.assert(e.dom.is_node(g),i+": @element: not {HTMLElement}")},a={add_class:function(g,h){b(g,h,"add_class");var f=h.className;if(!e.css.has_class(g,h)){if(f.length){f+=" "+g}else{f=g}}h.className=f},remove_class:function(f,g){b(f,g,"remove_class");var h=new RegExp("(\\s"+f+")|("+f+"\\s)|"+f,"i");g.className=e.string.trim(g.className.replace(h,""))},has_class:function(f,g){b(f,g,"has_class");var h=" "+f+" ";return((" "+g.className+" ").replace(c," ").indexOf(h)>-1)}};e.css=a}(this));(function(b){var c=b.pklib||{},a={get_full_month:function(){var d=(parseInt(new Date().getMonth(),10)+1);if(d<10){d="0"+d}return String(d)}};c.date=a}(this));(function(c){var d=c.pklib||{},a=c.document||{},b=function(g,f){if(!!g){f(g);g=g.firstChild;while(g){b(g,f);g=g.nextSibling}}},e={node_types:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},is_node:function(f){try{d.common.assert(Boolean(f&&f.nodeType&&f.nodeName));return true}catch(g){return false}},is_element:function(f){return(f&&f.nodeType===d.dom.node_types.ELEMENT_NODE)||false},by_id:function(f){return a.getElementById(f)},by_tag:function(f,g){g=g||a;return g.getElementsByTagName(f)},by_class:function(f,h){var g;h=h||a;if(h.getElementsByClassName){g=h.getElementsByClassName(f)}else{g=[];b(h,function(i){if(d.css.has_class(f,i)){g.push(i)}})}return g},index:function(j){var g,h=d.dom.parent(j),k=d.dom.children(h),f=k.length;for(g=0;g<f;++g){if(k[g]===j){return g}}return null},children:function(h){var g,k=[],j=h.childNodes,f=j.length;for(g=0;g<f;++g){if(d.dom.is_element(j[g])){k.push(j[g])}}return k},insert:function(f,g){if(d.dom.is_node(f)){g.appendChild(f)}else{if(d.string.is_string(f)){g.innerHTML+=f}}return f},remove:function(){var h,k=null,j=null,g=Array.prototype.slice.call(arguments),f=g.length;for(h=0;h<f;++h){k=g[h];if(d.dom.is_node(k)){j=k.parentNode;j.removeChild(k)}}},prev:function(g){var f;while(true){f=g.previousSibling;if(typeof f!=="undefined"&&f!==null&&f.nodeType!==d.dom.node_types.ELEMENT_NODE){g=f}else{break}}return f},next:function(g){var f;while(true){f=g.nextSibling;if(typeof f!=="undefined"&&f!==null&&f.nodeType!==d.dom.node_types.ELEMENT_NODE){g=f}else{break}}return f},parent:function(g){var f;while(true){f=g.parentNode;if(typeof f!=="undefined"&&f!==null&&f.nodeType!==d.dom.node_types.ELEMENT_NODE){g=f}else{break}}return f}};d.dom=e}(this));(function(b){var c=b.pklib||{},a={add:function(g,d,e){if(typeof g.events==="undefined"){g.events={}}var f=g.events[d];if(typeof f==="undefined"){g.events[d]=[]}g.events[d].push(e);if(g.attachEvent){g.attachEvent("on"+d,e)}else{if(g.addEventListener){g.addEventListener(d,e,false)}else{g["on"+d]=e}}},remove:function(k,j){var h,f,d,e,g;if(typeof k.events==="undefined"){k.events={}}if(k.detachEvent){h="detachEvent"}else{if(k.removeEventListener){h="removeEventListener"}}if(typeof h==="undefined"){delete k["on"+j]}else{f=k.events[j];if(typeof f!=="undefined"){d=f.length;for(e=0;e<d;++e){g=f[e];k[h](j,g);delete k.events[j]}}}},get:function(e,d){if(typeof e.events==="undefined"){e.events={}}return e.events[d]},trigger:function(h,g){var f,d,e;if(typeof h.events==="undefined"){h.events={}}f=h.events[g];c.common.assert(typeof f!=="undefined","pklib.event.trigger: @event "+g+": not {Array}");d=f.length;for(e=0;e<d;++e){f[e].call(h,f[e])}}};c.event=a}(this));(function(d){var f=d.pklib||{},b=d.document||{},e=[],a=function(h,i){var g=b.createElement("script");g.type="text/javascript";g.src=h;if(typeof g.readyState==="undefined"){g.onload=function(){if(typeof i==="function"){i(g)}}}else{g.onreadystatechange=function(){if(g.readyState==="loaded"||g.readyState==="complete"){g.onreadystatechange=null;if(typeof i==="function"){i(g)}}}}if(typeof b.head==="undefined"){b.head=b.getElementsByTagName("head")[0]}b.head.appendChild(g)},c={loadjs:function(i,j){var h,g=this;if(typeof i==="string"){h=i;a(h,function(k){if(typeof j==="function"){j(k)}})}else{if(f.array.is_array(i)){if(!e.length){e=f.object.mixin(e,i)}h=i.shift();if(typeof h==="undefined"){if(typeof j==="function"){j({src:e[e.length-1]});e=[]}}else{a(h,function(){g.loadjs(i,j)})}}else{throw new TypeError("pklib.file.loadjs: @files not {String} or {Array}")}}}};f.file=c}(this));(function(b){var c=b.pklib||{},a={is_object:function(d){return d&&typeof d==="object"&&typeof d.hasOwnProperty==="function"&&typeof d.isPrototypeOf==="function"&&typeof d.length==="undefined"},mixin:function(j,h){var f,d,e,g;if(c.array.is_array(j)&&c.array.is_array(h)){d=h.length;for(f=0;f<d;++f){e=h[f];if(!c.array.in_array(e,j)){j.push(e)}}j.sort()}else{for(g in h){if(h.hasOwnProperty(g)){if(c.object.is_object(j[g])){j[g]=c.object.mixin(j[g],h[g])}else{j[g]=h[g]}}}}return j}};c.object=a}(this));(function(b){var d=b.pklib||{},c={},a={start:function(e){c[e]=new Date();return c[e]},stop:function(e){c[e]=new Date()-c[e];return new Date((new Date()).getTime()+c[e])},get_time:function(e){return c[e]}};d.profiler=a}(this));(function(c){var d=c.pklib||{},a=c.document||{},b={is_string:function(e){return typeof e==="string"},is_letter:function(e){return d.string.is_string(e)&&/^[a-zA-Z]$/.test(e)},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},slug:function(f){var e=f.toLowerCase().replace(/\s/mg,"-");e=e.replace(/[^a-zA-Z0-9\-]/mg,function(g){switch(g.charCodeAt(0)){case 261:return String.fromCharCode(97);case 281:return String.fromCharCode(101);case 243:return String.fromCharCode(111);case 347:return String.fromCharCode(115);case 322:return String.fromCharCode(108);case 378:case 380:return String.fromCharCode(122);case 263:return String.fromCharCode(99);case 324:return String.fromCharCode(110);default:return""}});return e},capitalize:function(e){return e.substr(0,1).toUpperCase()+e.substring(1,e.length).toLowerCase()},delimiter_separated_words:function(e){return e.replace(/[A-ZĘÓĄŚŁŻŹĆŃ]/g,function(f){return"-"+f.toLowerCase()})},strip_tags:function(e){d.common.assert(typeof e==="string","pklib.string.strip_tags: param @source is not a string");if(e&&e.length!==0){var f=a.createElement("div");f.innerHTML=e;return f.textContent||f.innerText}return e},camel_case:function(g){while(g.indexOf("-")!==-1){var i=g.indexOf("-"),h=g.substr(0,i),f=g.substr(i+1,1).toUpperCase(),e=g.substring(i+2,g.length);g=h+f+e}return g},slice:function(h,g){var f,i="",e=h.length;for(f=0;f<e;f+=1){i+=h.substr(f,1);if(f===g-1){if(e-g>=1){i+="..."}break}}return i}};d.string=b}(this));(function(b){var d=b.pklib||{},a=b.document||{},c={center:function(f,i){var h=null,g=null,e=this.size;d.common.assert(d.dom.is_element(f),"pklib.ui.center: @element: not {HTMLElement}");if(i===a.body){h=(Math.max(e.window("width"),e.document("width"))-e.object(f,"width"))/2;g=(Math.max(e.window("height"),e.document("height"))-e.object(f,"height"))/2}else{h=(e.window("width")-e.object(f,"width"))/2;g=(e.window("height")-e.object(f,"height"))/2}f.style.left=h+"px";f.style.top=g+"px";f.style.position="absolute";return[h,g]},maximize:function(g,i){var h=null,f=null,e=d.ui.size;if(i===a.body){h=Math.max(e.window("width"),e.document("width"));f=Math.max(e.window("height"),e.document("height"));if(d.browser.get_name()==="msie"){h-=20}}else{h=e.object(i,"width");f=e.object(i,"height")}g.style.width=h;g.style.height=f;return[h,f]},scroll_to:function(g,f){var e=null;if(f){e=b.setInterval(function(){a.body.scroll_top-=5;if(a.body.scroll_top<=0){b.clearInterval(e)}},1)}else{a.body.scroll_top=g+"px"}}};d.ui=c}(this));(function(c){var d=c.pklib||{},a=c.document||{},f="pklib-glass-wrapper",b={container:null,style:{position:"absolute",left:0,top:0,background:"#000",opacity:0.5,zIndex:1000}},e={objId:f,show:function(g,l){var i=this,j=a.createElement("div"),k=j.style,h;b.container=a.body;b=d.object.mixin(b,g);b.style.filter="alpha(opacity="+parseFloat(b.style.opacity)*100+")";j.setAttribute("id",this.objId);for(h in b.style){if(b.style.hasOwnProperty(h)){k[h]=b.style[h]}}b.container.appendChild(j);d.ui.maximize(j,b.container);d.event.add(c,"resize",function(){i.close();i.show(g,l);d.ui.maximize(j,b.container)});if(typeof l==="function"){l()}return j},close:function(i){var h=d.dom.by_id(this.objId),g=false;d.event.remove(c,"resize");if(h!==null){h.parentNode.removeChild(h);this.close(i);g=true}if(typeof i==="function"){i()}return g}};d.ui=c.pklib.ui||{};d.ui.glass=e}(this));(function(d){var e=d.pklib||{},b=d.document||{},f="pklib-loader-wrapper",c={src:"",container:null,style:{width:31,height:31,zIndex:1010},center:true},a={objId:f,show:function(i,k){c.container=b.body;c=e.object.mixin(c,i);var g=b.createElement("img"),h=g.style,j;g.setAttribute("id",this.objId);g.setAttribute("src",c.src);for(j in c.style){if(c.style.hasOwnProperty(j)){h[j]=c.style[j]}}if(c.center){e.ui.center(g,c.container);e.event.add(d,"resize",function(){e.ui.center(g,c.container)})}c.container.appendChild(g);if(typeof k==="function"){k()}g=null},close:function(i){var h=e.dom.by_id(this.objId),g=false;if(h!==null){h.parentNode.removeChild(h);this.close(i);g=true}if(typeof i==="function"){i()}return g}};e.ui=d.pklib.ui||{};e.ui.loader=a}(this));(function(d){var e=d.pklib||{},a=d.document||{},f="pklib-message-wrapper",b={container:null,style:{width:300,height:300,zIndex:1010}},c={objId:f,content:null,show:function(g,k){b.container=a.body;b=e.object.mixin(b,g);var i=a.createElement("div"),j=i.style,h;i.setAttribute("id",this.objId);for(h in b.style){if(b.style.hasOwnProperty(h)){j[h]=b.style[h]}}e.dom.insert(this.content,i);b.container.appendChild(i);e.ui.center(i,b.container);e.event.add(d,"resize",function(){e.ui.center(i,b.container)});if(typeof k==="function"){k()}return i},close:function(i){var h=e.dom.by_id(this.objId),g=false;if(h!==null){h.parentNode.removeChild(h);this.close(i);g=true}if(typeof i==="function"){i()}return g}};e.ui=d.pklib.ui||{};e.ui.message=c}(this));(function(c){var d=c.pklib||{},a=c.document||{},b={window:function(e){var f;d.common.assert(typeof e==="string","pklib.ui.size.window: @name: not {String}");e=d.string.capitalize(e);f=a.documentElement["client"+e];return(a.compatMode==="CSS1Compat"&&f)||a.body["client"+e]||f},document:function(g){var i,j,h,f,e;d.common.assert(typeof g==="string","pklib.ui.size.document: @name: not {String}");g=d.string.capitalize(g);i=a.documentElement["client"+g];j=a.body["scroll"+g];h=a.documentElement["scroll"+g];f=a.body["offset"+g];e=a.documentElement["offset"+g];return Math.max(i,j,h,f,e)},object:function(h,g){d.common.assert(typeof g==="string","pklib.ui.size.object: @name: not {String}");d.common.assert(d.dom.is_node(h),"pklib.ui.size.object: @obj: not {HTMLElement}");g=d.string.capitalize(g);var f=h["client"+g],e=h["scroll"+g],i=h["offset"+g];return Math.max(f,e,i)}};d.ui=c.pklib.ui||{};d.ui.size=b}(this));(function(b){var c=b.pklib||{},d=b.location||{},a={get_protocol:function(){return d.protocol},get_host:function(){return d.host},get_port:function(){return d.port||80},get_uri:function(){return d.pathname},get_params:function(){var f,g,e,j=d.search,h={};if(j.substr(0,1)==="?"){j=j.substr(1)}j=j.split("&");e=j.length;for(f=0;f<e;++f){g=j[f].split("=");h[g[0]]=g[1]}return h},get_param:function(g){var j=d.search,f,h,e;if(j.substr(0,1)==="?"){j=j.substr(1)}j=j.split("&");e=j.length;for(f=0;f<e;++f){h=j[f].split("=");if(h[0]===g){return h[1]}}return null},get_hash:function(){return d.hash}};c.url=a}(this));(function(d){var e=d.pklib||{},a=d.document||{},c=function(f){var g="";if(f.originalTarget&&typeof f.originalTarget==="object"&&typeof f.originalTarget.href!=="undefined"){g=f.originalTarget.href}else{if(f.toElement&&typeof f.toElement==="object"&&typeof f.toElement.href!=="undefined"){g=f.toElement.href}else{if(f.srcElement&&typeof f.srcElement==="object"&&typeof typeof f.srcElement!=="undefined"){g=f.srcElement.href}}}d.open(g);try{f.preventDefault()}catch(h){d.event.returnValue=false}return false},b={ascii:{letters:{lower:[113,119,101,114,116,121,117,105,111,112,97,115,100,102,103,104,106,107,108,122,120,99,118,98,110,109],upper:[81,87,69,82,84,89,85,73,79,80,65,83,68,70,71,72,74,75,76,90,88,67,86,66,78,77]}},action:{clearfocus:function(f){if(e.dom.is_element(f)){e.event.add(f,"focus",function(){if(f.value===f.defaultValue){f.value=""}});e.event.add(f,"blur",function(){if(f.value===""){f.value=f.defaultValue}})}},outerlink:function(k){var h,f,j,g;k=k||a;g=e.dom.by_tag("a",k);f=g.length;for(h=0;h<f;++h){j=g[h];if(j.rel==="outerlink"){e.event.add(j,"click",c.bind(j))}}},confirm:function(g,h){var f;if(typeof g!=="undefined"){h=h||"Sure?";e.event.add(g,"click",function(i){f=d.confirm(h);if(!f){try{i.preventDefault()}catch(j){d.event.returnValue=false}return false}return true})}}}};e.utils=b}(this));