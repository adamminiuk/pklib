/** pklib JavaScript library | http://pklib.com/licencja.html **/
(function(a){var b={author:"Piotr Kowalski",www:"http://pklib.com/",version:"1.1.0"};a.pklib=b}(this));if(typeof Function.prototype.bind!=="function"){Function.prototype.bind=function(b){var d=this,c=Array.prototype.slice,a=c.apply(arguments,[1]);return function(){return d.apply(b,a.concat(c.apply(arguments,[0])))}}}(function(p){var k=p.pklib||{},g=30000,r=0,f=4,m=[],i=function(u,w){var x,t=["application/xml","text/xml"],v="responseText";if(u.cache){m[u.url]=w}x=w.getResponseHeader("Content-Type");if(k.array.in_array(x,t)){v="responseXML"}u.done.call(null,w[v]);w=null},c=function(t,u){u.error=true;t.error.call(null,t,u)},b=function(u,v){var t=0;if(v.readyState===f){if(typeof v.status!=="undefined"){t=v.status}if((t>=200&&t<300)||t===304){i(u,v)}else{c(u,v)}}},e=function(t,u){u=null;throw new Error("pklib.ajax.load: timeout on url: "+t.url)},d=function(t,u){if(typeof u.aborted==="undefined"&&typeof u.error==="undefined"&&u.readyState===f&&u.status===r){u.abort();e.call(null,t,u)}},j=function(){var u;try{u=new p.ActiveXObject("Msxml2.XMLHTTP")}catch(v){try{u=new p.ActiveXObject("Microsoft.XMLHTTP")}catch(t){throw new Error("pklib.ajax.load: can't create XMLHttpRequest object")}}return u},n=function(){var t;try{t=new p.XMLHttpRequest()}catch(u){t=j()}return t},a=function(t,v){var w,u=t.headers;if(u!==null){for(w in u){if(u.hasOwnProperty(w)){v.setRequestHeader(w,u[w])}}}},o=function(t,u){if(typeof u.ontimeout==="function"){u.ontimeout=e.bind(null,t,u)}else{k.common.defer(d.bind(null,t,u),t.timeout)}},s=function(t,u){u.onerror=function(){c(t,u)}},h=function(t){return t.cache&&m[t.url]},l=function(){return{type:"get",async:true,cache:false,url:null,params:null,timeout:g,headers:{},done:function(){},error:function(){}}},q=function(t){k.common.assert(t.url!==null,"pklib.ajax.load: undefined request url")};k.ajax={load:function(t){var v=null,u=l();u=k.object.mixin(u,t);u.type=u.type.toUpperCase();q(u);if(h(u)){b.call(null,u,m[u.url])}else{v=n();v.onreadystatechange=b.bind(null,u,v);v.open(u.type,u.url,u.async);a(u,v);o(u,v);s(u,v);v.send(u.params)}return v},stop:function(t){t.abort();t.aborted=true;t=null}}}(this));(function(a){var b=a.pklib||{};b.array={is_array:function(d){try{b.common.assert(typeof d==="object"&&d!==null&&typeof d.length!=="undefined"&&typeof d.slice!=="undefined");return true}catch(c){return false}},in_array:function(e,f){var d,c=f.length;for(d=0;d<c;++d){if(f[d]===e){return true}}return false},index:function(e,f){var d,c=f.length;for(d=0;d<c;++d){if(f[d]===e){return d}}return null},unique:function(g){var e,f,d=[],c=g.length;for(e=0;e<c;++e){f=g[e];if(!b.array.in_array.call(null,f,d)){d.push(f)}}return d},remove:function(g){var d,f,e=Array.prototype.slice.call(arguments,1),c=e.length;for(d=0;d<c;++d){f=e[d];if(b.array.in_array(f,g)){g.splice(b.array.index(f,g),1)}}return g}}}(this));(function(a){var b=a.pklib||{};b.aspect=function(e,f,d){var g=this,c;b.common.assert(typeof e==="function","pklib.aspect: @func: not {Function}");b.common.assert(typeof f==="function","pklib.aspect: @asp: not {Function}");d=d||"before";return function(){if(d==="before"){f.call(g)}c=e.apply(g,arguments);if(d==="after"){c=f.call(g)}return c}}}(this));(function(b){var c=b.pklib||{},a=["msie","chrome","safari","opera","mozilla","konqueror"];c.browser={get_name:function(){var f,e,d=a.length,g=b.navigator.userAgent.toLowerCase();for(f=0;f<d;++f){e=a[f];if(new RegExp(e).test(g)){return e}}return"undefined"},get_version:function(){var g,d=a.length,f,h,e=b.navigator.userAgent.toLowerCase();for(g=0;g<d;++g){f=a[g];h=e.indexOf(f);if(h!==-1){return e.substr(h+d+1,3)}}return null}}}(this));(function(a){var b=a.pklib||{};b.common={assert:function(c,d){if(c!==true){throw new Error(d)}},defer:function(d,c){c=c||0;setTimeout(d,c)},checking:function(f,e){var c,d=100;b.common.assert(typeof f==="function","pklib.common.checking: @condition: not {Function}");b.common.assert(typeof e==="function","pklib.common.checking: @callback: not {Function}");if(f()){e()}else{c=setInterval(function(){if(f()){clearInterval(c);e()}},d)}}}}(this));(function(b){var c=b.pklib||{},a=b.document||{};c.cookie={create:function(f,g,h){var d="",e=new Date();g=g||null;if(typeof h!=="undefined"){e.setTime(e.getTime()+(h*24*60*60*1000));d="; expires="+e.toGMTString()}a.cookie=f+"="+encodeURIComponent(g)+d+"; path=/";return c.cookie.get(f)},get:function(f){if(typeof f==="undefined"){return null}f+="=";var g,h,e=a.cookie.split(";"),d=e.length;for(g=0;g<d;++g){h=e[g];while(h.charAt(0)===" "){h=h.substring(1,h.length)}if(h.indexOf(f)===0){return decodeURIComponent(h.substring(f.length,h.length))}}return null},remove:function(d){return c.cookie.create(d,undefined,-1)}}}(this));(function(c){var d=c.pklib||{},b=/[\n\t\r]/g,a=function(g,f,e){var h="pklib.css."+e;d.common.assert(typeof g==="string",h+": @css_class: not {String}");d.common.assert(d.dom.is_element(f),h+": @element: not {HTMLElement}")};d.css={add_class:function(f,e){a(f,e,"add_class");var g=e.className;if(!d.css.has_class(f,e)){if(g.length){g+=" "+f}else{g=f}}e.className=g},remove_class:function(f,e){a(f,e,"remove_class");var g=new RegExp("(\\s"+f+")|("+f+"\\s)|"+f,"i");e.className=d.string.trim(e.className.replace(g,""))},has_class:function(g,e){a(g,e,"has_class");var f=" "+g+" ";return((" "+e.className+" ").replace(b," ").indexOf(f)>-1)}}}(this));(function(a){var b=a.pklib||{};b.date={get_full_month:function(){var c=(parseInt(new Date().getMonth(),10)+1);if(c<10){c="0"+c}return String(c)}}}(this));(function(c){var d=c.pklib||{},a=c.document||{},b=function(f,e){if(!!f){e(f);f=f.firstChild;while(f){b(f,e);f=f.nextSibling}}};d.dom={node_types:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},is_node:function(e){try{d.common.assert(Boolean(e&&e.nodeType&&e.nodeName));d.common.assert(Object.prototype.toString.call(e)==="[object Node]");return true}catch(f){return false}},is_node_list:function(e){try{d.common.assert(Object.prototype.toString.call(e)==="[object NodeList]");return true}catch(f){return false}},is_element:function(e){return(e&&e.nodeType===d.dom.node_types.ELEMENT_NODE)||false},is_visible:function(e){d.common.assert(d.dom.is_element(e),"pklib.dom.is_visible: @node is not HTMLElement");return e.style.display!=="none"&&e.style.visibility!=="hidden"&&e.offsetWidth!==0&&e.offsetHeight!==0},by_id:function(e){return a.getElementById(e)},by_tag:function(e,f){f=f||a;return f.getElementsByTagName(e)},by_class:function(f,g){var e;g=g||a;if(g.getElementsByClassName){e=g.getElementsByClassName(f)}else{e=[];b(g,function(h){if(d.dom.is_element(h)&&d.css.has_class(f,h)){e.push(h)}})}return e},index:function(h){var f,g=d.dom.parent(h),j=d.dom.children(g),e=j.length;for(f=0;f<e;++f){if(j[f]===h){return f}}return null},children:function(g){var f,j=[],h=g.childNodes,e=h.length;for(f=0;f<e;++f){if(d.dom.is_element(h[f])){j.push(h[f])}}return j},insert:function(e,f){if(d.dom.is_element(e)){f.appendChild(e)}else{if(d.string.is_string(e)){f.innerHTML+=e}}return e},remove:function(){var g,j=null,h=null,f=Array.prototype.slice.call(arguments),e=f.length;for(g=0;g<e;++g){j=f[g];if(d.dom.is_element(j)){h=j.parentNode;h.removeChild(j)}}},prev:function(f){var e;while(true){e=f.previousSibling;if(typeof e!=="undefined"&&e!==null&&e.nodeType!==d.dom.node_types.ELEMENT_NODE){f=e}else{break}}return e},next:function(f){var e;while(true){e=f.nextSibling;if(typeof e!=="undefined"&&e!==null&&e.nodeType!==d.dom.node_types.ELEMENT_NODE){f=e}else{break}}return e},parent:function(f){var e;while(true){e=f.parentNode;if(typeof e!=="undefined"&&e!==null&&e.nodeType!==d.dom.node_types.ELEMENT_NODE){f=e}else{break}}return e}}}(this));(function(a){var b=a.pklib||{};b.event={add:function(f,e,c){if(typeof f.events==="undefined"){f.events={}}var d=f.events[e];if(typeof d==="undefined"){f.events[e]=[]}f.events[e].push(c);if(f.attachEvent){f.attachEvent("on"+e,c)}else{if(f.addEventListener){f.addEventListener(e,c,false)}else{f["on"+e]=c}}},remove:function(j,h){var g,e,c,d,f;if(typeof j.events==="undefined"){j.events={}}if(j.detachEvent){g="detachEvent"}else{if(j.removeEventListener){g="removeEventListener"}}if(typeof g==="undefined"){delete j["on"+h]}else{e=j.events[h];if(typeof e!=="undefined"){c=e.length;for(d=0;d<c;++d){f=e[d];j[g](h,f);delete j.events[h]}}}},get:function(d,c){if(typeof d.events==="undefined"){d.events={}}return d.events[c]},trigger:function(g,f){var e,c,d;if(typeof g.events==="undefined"){g.events={}}e=g.events[f];if(typeof e!=="undefined"){c=e.length;for(d=0;d<c;++d){e[d].call(g,e[d])}}}}}(this));(function(c){var e=c.pklib||{},a=c.document||{},d=[],b=function(g,h){var f=a.createElement("script");f.type="text/javascript";f.src=g;if(typeof f.readyState==="undefined"){f.onload=function(){if(typeof h==="function"){h(f)}}}else{f.onreadystatechange=function(){if(f.readyState==="loaded"||f.readyState==="complete"){f.onreadystatechange=null;if(typeof h==="function"){h(f)}}}}if(typeof a.head==="undefined"){a.head=a.getElementsByTagName("head")[0]}a.head.appendChild(f)};e.file={loadjs:function(h,i){var g,f=this;if(typeof h==="string"){g=h;b(g,function(j){if(typeof i==="function"){i(j)}})}else{if(e.array.is_array(h)){if(!d.length){d=e.object.mixin(d,h)}g=h.shift();if(typeof g==="undefined"){if(typeof i==="function"){i({src:d[d.length-1]});d=[]}}else{b(g,function(){f.loadjs(h,i)})}}else{throw new TypeError("pklib.file.loadjs: @files not {String} or {Array}")}}}}}(this));(function(a){var b=a.pklib||{};b.object={is_object:function(c){return c&&typeof c==="object"&&typeof c.hasOwnProperty==="function"&&typeof c.isPrototypeOf==="function"&&typeof c.length==="undefined"},mixin:function(h,g){var e,c,d,f;if(b.array.is_array(h)&&b.array.is_array(g)){c=g.length;for(e=0;e<c;++e){d=g[e];if(!b.array.in_array(d,h)){h.push(d)}}h.sort()}else{for(f in g){if(g.hasOwnProperty(f)){if(b.object.is_object(h[f])){h[f]=b.object.mixin(h[f],g[f])}else{h[f]=g[f]}}}}return h}}}(this));(function(a){var c=a.pklib||{},b={};c.profiler={start:function(d){b[d]=new Date();return b[d]},stop:function(d){b[d]=new Date()-b[d];return new Date((new Date()).getTime()+b[d])},get_time:function(d){return b[d]}}}(this));(function(b){var c=b.pklib||{},a=b.document||{};c.string={is_string:function(d){return typeof d==="string"},is_letter:function(d){return c.string.is_string(d)&&/^[a-zA-Z]$/.test(d)},trim:function(d){return d.replace(/^\s+|\s+$/g,"")},slug:function(e){var d=e.toLowerCase().replace(/\s/mg,"-");d=d.replace(/[^a-zA-Z0-9\-]/mg,function(f){switch(f.charCodeAt(0)){case 261:return String.fromCharCode(97);case 281:return String.fromCharCode(101);case 243:return String.fromCharCode(111);case 347:return String.fromCharCode(115);case 322:return String.fromCharCode(108);case 378:case 380:return String.fromCharCode(122);case 263:return String.fromCharCode(99);case 324:return String.fromCharCode(110);default:return""}});return d},capitalize:function(d){return d.substr(0,1).toUpperCase()+d.substring(1,d.length).toLowerCase()},delimiter_separated_words:function(d){return d.replace(/[A-ZĘÓĄŚŁŻŹĆŃ]/g,function(e){return"-"+e.toLowerCase()})},strip_tags:function(d){c.common.assert(typeof d==="string","pklib.string.strip_tags: param @source is not a string");if(d&&d.length!==0){var e=a.createElement("div");e.innerHTML=d;return e.textContent||e.innerText}return d},camel_case:function(f){while(f.indexOf("-")!==-1){var h=f.indexOf("-"),g=f.substr(0,h),e=f.substr(h+1,1).toUpperCase(),d=f.substring(h+2,f.length);f=g+e+d}return f},slice:function(g,f,e){c.common.assert(typeof g==="string","pklib.string.slice: param @source is not a string");if(g.length<f){return g}var h=g.slice(0,f);if(g[f]===" "){return h+"..."}if(h[f-1]===" "){return c.string.trim(h)+"..."}if(!e){var d=h.lastIndexOf(" ");if(d!==-1){return h.slice(0,d)+"..."}}return h+"..."}}}(this));(function(b){var c=b.pklib||{},a=b.document||{};c.ui={center:function(e,h){var g=null,f=null,d=this.size;c.common.assert(c.dom.is_element(e),"pklib.ui.center: @element: not {HTMLElement}");if(h===a.body){g=(Math.max(d.window("width"),d.document("width"))-d.object(e,"width"))/2;f=(Math.max(d.window("height"),d.document("height"))-d.object(e,"height"))/2}else{g=(d.window("width")-d.object(e,"width"))/2;f=(d.window("height")-d.object(e,"height"))/2}e.style.left=g+"px";e.style.top=f+"px";e.style.position="absolute";return[g,f]},maximize:function(f,h){var g=null,e=null,d=c.ui.size;if(h===a.body){g=Math.max(d.window("width"),d.document("width"));e=Math.max(d.window("height"),d.document("height"));if(c.browser.get_name()==="msie"){g-=20}}else{g=d.object(h,"width");e=d.object(h,"height")}f.style.width=g;f.style.height=e;return[g,e]},scroll_to:function(f,e){var d=null;if(e){d=setInterval(function(){a.body.scroll_top-=5;if(a.body.scroll_top<=0){clearInterval(d)}},1)}else{a.body.scroll_top=f+"px"}}}}(this));(function(c){var d=c.pklib||{},a=c.document||{},e="pklib-glass-wrapper",b={container:null,style:{position:"absolute",left:0,top:0,background:"#000",opacity:0.5,zIndex:1000}};d.ui.glass={obj_id:e,show:function(f,k){var h=this,i=a.createElement("div"),j=i.style,g;b.container=a.body;b=d.object.mixin(b,f);b.style.filter="alpha(opacity="+parseFloat(b.style.opacity)*100+")";i.setAttribute("id",this.obj_id);for(g in b.style){if(b.style.hasOwnProperty(g)){j[g]=b.style[g]}}b.container.appendChild(i);d.ui.maximize(i,b.container);d.event.add(c,"resize",function(){h.close();h.show(f,k);d.ui.maximize(i,b.container)});if(typeof k==="function"){k()}return i},close:function(h){var g=d.dom.by_id(this.obj_id),f=false;d.event.remove(c,"resize");if(g!==null){g.parentNode.removeChild(g);this.close(h);f=true}if(typeof h==="function"){h()}return f}}}(this));(function(c){var d=c.pklib||{},a=c.document||{},e="pklib-loader-wrapper",b={src:"",container:null,style:{width:31,height:31,zIndex:1010},center:true};d.ui.loader={obj_id:e,show:function(h,j){b.container=a.body;b=d.object.mixin(b,h);var f=a.createElement("img"),g=f.style,i;f.setAttribute("id",this.obj_id);f.setAttribute("src",b.src);for(i in b.style){if(b.style.hasOwnProperty(i)){g[i]=b.style[i]}}if(b.center){d.ui.center(f,b.container);d.event.add(c,"resize",function(){d.ui.center(f,b.container)})}b.container.appendChild(f);if(typeof j==="function"){j()}f=null},close:function(h){var g=d.dom.by_id(this.obj_id),f=false;if(g!==null){g.parentNode.removeChild(g);this.close(h);f=true}if(typeof h==="function"){h()}return f}}}(this));(function(c){var d=c.pklib||{},a=c.document||{},e="pklib-message-wrapper",b={container:null,style:{width:300,height:300,zIndex:1010}};d.ui.message={obj_id:e,content:null,show:function(f,j){b.container=a.body;b=d.object.mixin(b,f);var h=a.createElement("div"),i=h.style,g;h.setAttribute("id",this.obj_id);for(g in b.style){if(b.style.hasOwnProperty(g)){i[g]=b.style[g]}}d.dom.insert(this.content,h);b.container.appendChild(h);d.ui.center(h,b.container);d.event.add(c,"resize",function(){d.ui.center(h,b.container)});if(typeof j==="function"){j()}return h},close:function(h){var g=d.dom.by_id(this.obj_id),f=false;if(g!==null){g.parentNode.removeChild(g);this.close(h);f=true}if(typeof h==="function"){h()}return f}}}(this));(function(b){var c=b.pklib||{},a=b.document||{};c.ui.size={window:function(d){var e;c.common.assert(typeof d==="string","pklib.ui.size.window: @name: not {String}");d=c.string.capitalize(d);e=a.documentElement["client"+d];return(a.compatMode==="CSS1Compat"&&e)||a.body["client"+d]||e},document:function(f){var h,i,g,e,d;c.common.assert(typeof f==="string","pklib.ui.size.document: @name: not {String}");f=c.string.capitalize(f);h=a.documentElement["client"+f];i=a.body["scroll"+f];g=a.documentElement["scroll"+f];e=a.body["offset"+f];d=a.documentElement["offset"+f];return Math.max(h,i,g,e,d)},object:function(g,f){c.common.assert(typeof f==="string","pklib.ui.size.object: @name: not {String}");c.common.assert(c.dom.is_element(g),"pklib.ui.size.object: @obj: not {HTMLElement}");f=c.string.capitalize(f);var e=g["client"+f],d=g["scroll"+f],h=g["offset"+f];return Math.max(e,d,h)}}}(this));(function(a){var b=a.pklib||{},c=a.location||{};b.url={get_protocol:function(){return c.protocol},get_host:function(){return c.host},get_port:function(){return c.port||80},get_uri:function(){return c.pathname},get_params:function(){var e,f,d,h=c.search,g={};if(h.substr(0,1)==="?"){h=h.substr(1)}h=h.split("&");d=h.length;for(e=0;e<d;++e){f=h[e].split("=");g[f[0]]=f[1]}return g},get_param:function(f){var h=c.search,e,g,d;if(h.substr(0,1)==="?"){h=h.substr(1)}h=h.split("&");d=h.length;for(e=0;e<d;++e){g=h[e].split("=");if(g[0]===f){return g[1]}}return null},get_hash:function(){return c.hash}}}(this));(function(c){var d=c.pklib||{},a=c.document||{},b=function(e){var f="";if(e.originalTarget&&typeof e.originalTarget==="object"&&typeof e.originalTarget.href!=="undefined"){f=e.originalTarget.href}else{if(e.toElement&&typeof e.toElement==="object"&&typeof e.toElement.href!=="undefined"){f=e.toElement.href}else{if(e.srcElement&&typeof e.srcElement==="object"&&typeof typeof e.srcElement!=="undefined"){f=e.srcElement.href}}}c.open(f);try{e.preventDefault()}catch(g){c.event.returnValue=false}return false};d.utils={ascii:{letters:{lower:[113,119,101,114,116,121,117,105,111,112,97,115,100,102,103,104,106,107,108,122,120,99,118,98,110,109],upper:[81,87,69,82,84,89,85,73,79,80,65,83,68,70,71,72,74,75,76,90,88,67,86,66,78,77]}},action:{clearfocus:function(e){if(d.dom.is_element(e)){d.event.add(e,"focus",function(){if(e.value===e.defaultValue){e.value=""}});d.event.add(e,"blur",function(){if(e.value===""){e.value=e.defaultValue}})}},outerlink:function(j){var g,e,h,f;j=j||a;f=d.dom.by_tag("a",j);e=f.length;for(g=0;g<e;++g){h=f[g];if(h.rel==="outerlink"){d.event.add(h,"click",b.bind(h))}}},confirm:function(f,g){var e;if(typeof f!=="undefined"){g=g||"Sure?";d.event.add(f,"click",function(h){e=c.confirm(g);if(!e){try{h.preventDefault()}catch(i){c.event.returnValue=false}return false}return true})}}}}}(this));